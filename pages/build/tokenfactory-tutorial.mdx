import { Callout } from 'nextra/components';

# Token Factory Tutorial

The `tokenfactory` module allows any account to create new tokens with a unique identifier based on the creator's address. Each account can generate multiple tokens by specifying distinct denominations (denoms). The token creator is granted "admin" privileges, allowing them to mint, burn, and transfer their token.

These tokens are named `factory/{CREATOR_ADDRESS}/{DENOM}` and come with a range of native functionalities.

## Requirements

To create a token on the testnet, ensure you have the following setup:

- The `seid` CLI
- A wallet with SEI tokens on testnet

<Callout type='info'>
	You can obtain testnet tokens from the faucet available in our [Telegram Tech Chat](https://t.me/+y0eW4tn8gZZiMmJk) by typing `/faucet` followed by your hex
	address (e.g., `/faucet 0x...`).
</Callout>

## Creating a Denom

```bash
seid tx tokenfactory create-denom $DENOM --from=$ACCOUNT --chain-id=atlantic-2 --node=https://rpc-testnet.sei-apis.com --broadcast-mode=block --fees=20000usei
```

This command creates a new coin with the format `factory/{ACCOUNT}/{DENOM}`. Replace `$DENOM` with your desired denom name and `$ACCOUNT` with your account name. The account specified here will be the token admin.

<Callout>
Simplify your tutorial experience by setting the `$DENOM` and `$ACCOUNT` variables in your terminal. This allows you to easily refer to these values throughout the tutorial.

For instance, to set a denom called `giga` and use the account name of your choice, use the following commands:

```bash code
DENOM=giga
ACCOUNT=your_account_name
```

Replace `your_account_name` with the actual name of your account. Once set, you can refer to these values throughout the session using `$DENOM` and `$ACCOUNT`.

</Callout>

## Updating Token Metadata

When creating a token, it's important to specify details regarding the denom amounts and aliases so your token can be correctly parsed on wallets and explorers.

### 1. Create Token Metadata file

Create a token metadata `json` file with the following content:

```json
{
	"name": "Giga",
	"description": "A token created using the Token Factory module.",
	"symbol": "GIGA",
	"denom_units": [
		{
			"denom": "factory/sei1ep3f207kt7julz9tjwxp2x8kluj0y9l6u0fume/giga",
			"exponent": 0,
			"aliases": ["ugiga"]
		},
		{
			"denom": "GIGA",
			"exponent": 18,
			"aliases": ["Giga"]
		}
	],
	"base": "factory/sei1ep3f207kt7julz9tjwxp2x8kluj0y9l6u0fume/giga",
	"display": "GIGA"
}
```

The `base` field denotes the smallest denom that this token can be represented in. The "GIGA" denom with 18 decimals will be used as the display denomination.

### 2. Set token metadata using seid

```sh
seid tx tokenfactory set-denom-metadata $METADATA_FILE --fees 20000usei -b block -y --from $ADDR
```

Replace `$METADATA_FILE` with the path to your metadata file created in step 1, and `$ADDR` with the address of the token admin.

## Minting Tokens

```bash
seid tx tokenfactory mint 1000000000000000000000000000factory/${ACCOUNT}/${DENOM} --from=$ACCOUNT --chain-id=atlantic-2 --node=https://rpc-testnet.sei-apis.com --broadcast-mode=block --fees=20000usei
```

This command will create (mint) 1 billion tokens of your new denom. The amount is specified in the smallest denomination, which is `factory/{ACCOUNT}/{DENOM}`.

To verify that the tokens have been minted, query the balance of your account:

```bash
seid query bank balances $ACCOUNT --chain-id=atlantic-2 --node=https://rpc-testnet.sei-apis.com
```

## Create Pointer Contract

To enable seamless use of this token in EVM environments, we can create a pointer contract. This process results in an ERC20 token that can be imported and used in EVM wallets and applications.

<Callout type='warning'>
	Please note that the pointer data for factory tokens (as well as IBC tokens) can only be updated through governance. Therefore, it is crucial to ensure that the
	pointer contract is configured correctly the first time, as it is difficult to change once implemented. It is recommended to try the procedure on testnet before
	deploying to mainnet.
</Callout>

```bash
seid tx evm register-evm-pointer NATIVE factory/${ACCOUNT}/${DENOM} --from=$ACCOUNT --fees 20000usei --evm-rpc=https://evm-rpc-testnet.sei-apis.com
```

This command creates an ERC20 token that is linked to the TokenFactory token. Any activities involving this ERC20 token will be reflected in the state of the TokenFactory token and vice versa.

To query the pointer contract address, run the following command:

```bash
seid q evm pointer NATIVE factory/${ACCOUNT}/${DENOM} --node=https://rpc-testnet.sei-apis.com
```

This will return the address of the pointer contract, which can be used in EVM environments to interact with your TokenFactory token.

<Callout type='info'>Learn more about EVM interoperability and pointer contracts [here](../interoperability/overview.mdx).</Callout>

## Next Steps

ðŸŽ‰ Congrats on completing the Token Factory tutorial! You've learned how to create, mint, and manage tokens on Sei using the `tokenfactory` module.

For more advanced features and detailed insights, please refer to the [Token Factory module documentation](https://github.com/sei-protocol/sei-chain/tree/main/x/tokenfactory).
