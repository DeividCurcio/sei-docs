---
title: 'Governance Monitoring & Metrics'
description: 'Comprehensive guide to monitoring Sei governance including metrics, alerting, operational dashboards, and performance tracking for production systems.'
keywords: ['sei governance monitoring', 'governance metrics', 'governance alerts', 'blockchain monitoring', 'operational governance']
---

import { Callout } from 'nextra/components';
import { IconChartLine, IconAlertTriangle, IconShield, IconClock, IconActivity, IconServer, IconEye, IconTarget } from '@tabler/icons-react';

# Governance Monitoring

Monitor governance health, track proposal performance, and ensure network security with comprehensive metrics and alerting.

## Key Metrics to Monitor

### Proposal Activity

- Active proposals count
- Proposals per week/month
- Proposal success rate
- Time to finalization

### Participation

- Voter turnout percentage
- Unique voters per proposal
- Validator participation
- Delegation voting patterns

### Security

- NoWithVeto percentage
- Expedited proposal usage
- Deposit burn events
- Parameter changes frequency

### Timing

- Voting period duration
- Deposit period length
- Time to quorum
- Expedited vs standard timing

### System Health

- API response times
- Query success rates
- Event stream health
- WebSocket connections
- Error rates by type
- Data consistency checks

## Metrics Collection Setup

### Prometheus Configuration

```yaml
# prometheus.yml
global:
  scrape_interval: 15s
  evaluation_interval: 15s

scrape_configs:
  - job_name: 'sei-governance'
    static_configs:
      - targets: ['localhost:26660']
    metrics_path: /metrics
    scrape_interval: 10s

  - job_name: 'sei-evm-governance'
    static_configs:
      - targets: ['localhost:8545']
    metrics_path: /debug/metrics/prometheus
    scrape_interval: 15s

rule_files:
  - 'governance_alerts.yml'

alerting:
  alertmanagers:
    - static_configs:
        - targets:
            - alertmanager:9093
```

### Custom Metrics Collection

```typescript
import { register, Counter, Histogram, Gauge } from 'prom-client';

// Governance-specific metrics
const proposalSubmissions = new Counter({
  name: 'sei_governance_proposals_submitted_total',
  help: 'Total number of governance proposals submitted',
  labelNames: ['proposal_type', 'is_expedited']
});

const votesCast = new Counter({
  name: 'sei_governance_votes_cast_total',
  help: 'Total number of votes cast',
  labelNames: ['proposal_id', 'vote_option', 'voter_type']
});

const proposalDuration = new Histogram({
  name: 'sei_governance_proposal_duration_seconds',
  help: 'Time from proposal submission to finalization',
  labelNames: ['proposal_type', 'result'],
  buckets: [3600, 7200, 86400, 172800, 432000] // 1h, 2h, 1d, 2d, 5d
});

const activeProposals = new Gauge({
  name: 'sei_governance_active_proposals',
  help: 'Number of currently active proposals',
  labelNames: ['status']
});

// Collection functions
class GovernanceMetrics {
  async collectMetrics() {
    const proposals = await this.getActiveProposals();

    // Update active proposals gauge
    const statusCounts = proposals.reduce((acc, p) => {
      acc[p.status] = (acc[p.status] || 0) + 1;
      return acc;
    }, {});

    Object.entries(statusCounts).forEach(([status, count]) => {
      activeProposals.set({ status }, count as number);
    });

    // Track proposal metrics
    proposals.forEach((proposal) => {
      if (proposal.submit_time) {
        proposalSubmissions.inc({
          proposal_type: proposal.content['@type'],
          is_expedited: proposal.is_expedited.toString()
        });
      }
    });
  }
}
```

## Alerting Rules

Configure comprehensive monitoring and alerting for governance system health, proposal activity, and security events.

  <div className="mb-8">
    <div className="flex flex-col md:flex-row items-start gap-5 mb-6">
      <div className="w-16 h-16 rounded-lg bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center shrink-0">
        <IconAlertTriangle className="h-8 w-8 text-neutral-600 dark:text-neutral-400" />
      </div>
      <div>
        <h3 className="text-xl font-bold text-neutral-800 dark:text-neutral-100 mb-2">Critical Alerts</h3>
        <p className="text-neutral-600 dark:text-neutral-300 max-w-2xl">
          Essential alerting rules for governance health and security monitoring.
        </p>
      </div>
    </div>

      ```yaml
      # governance_alerts.yml
      groups:
        - name: governance_critical
          rules:
            - alert: GovernanceSystemDown
              expr: up{job="sei-governance"} == 0
              for: 1m
              labels:
                severity: critical
              annotations:
                summary: "Governance system is down"
                description: "The governance system has been down for more than 1 minute"

            - alert: ExpediatedProposalSubmitted
              expr: increase(sei_governance_proposals_submitted_total{is_expedited="true"}[5m]) > 0
              for: 0s
              labels:
                severity: warning
              annotations:
                summary: "Expedited governance proposal submitted"
                description: "An expedited proposal has been submitted - immediate attention required"

            - alert: LowVoterTurnout
              expr: |
                (sei_governance_votes_cast_total / sei_governance_total_voting_power) < 0.4
              for: 1h
              labels:
                severity: warning
              annotations:
                summary: "Low voter turnout detected"
                description: "Voter turnout is below 50% for current proposals"

            - alert: HighNoWithVetoRate
              expr: |
                (sei_governance_votes_cast_total{vote_option="NoWithVeto"} /
                 sei_governance_votes_cast_total) > 0.2
              for: 30m
              labels:
                severity: critical
              annotations:
                summary: "High NoWithVeto rate detected"
                description: "More than 20% of votes are NoWithVeto - potential governance attack"

            - alert: GovernanceQueryLatency
              expr: |
                histogram_quantile(0.95,
                  rate(sei_governance_query_duration_seconds_bucket[5m])) > 2
              for: 5m
              labels:
                severity: warning
              annotations:
                summary: "High governance query latency"
                description: "95th percentile query latency is above 2 seconds"

            - alert: ProposalStuckInDeposit
              expr: |
                (time() - sei_governance_proposal_submit_time) > 172800 AND
                sei_governance_proposal_status == "PROPOSAL_STATUS_DEPOSIT_PERIOD"
              for: 0s
              labels:
                severity: warning
              annotations:
                summary: "Proposal stuck in deposit period"
                description: "Proposal has been in deposit period for more than 2 days"
      ```

  </div>

## Monitoring Dashboard Templates

### Grafana Dashboard Configuration

```json
{
  "dashboard": {
    "title": "Sei Governance Overview",
    "panels": [
      {
        "title": "Active Proposals",
        "type": "stat",
        "targets": [
          {
            "expr": "sum(sei_governance_active_proposals)",
            "legendFormat": "Total Active"
          }
        ]
      },
      {
        "title": "Proposal Status Distribution",
        "type": "piechart",
        "targets": [
          {
            "expr": "sei_governance_active_proposals",
            "legendFormat": "{{status}}"
          }
        ]
      },
      {
        "title": "Vote Participation Rate",
        "type": "timeseries",
        "targets": [
          {
            "expr": "rate(sei_governance_votes_cast_total[5m])",
            "legendFormat": "Votes per second"
          }
        ]
      },
      {
        "title": "Proposal Success Rate",
        "type": "stat",
        "targets": [
          {
            "expr": "sei_governance_proposals_passed / sei_governance_proposals_total * 100",
            "legendFormat": "Success Rate %"
          }
        ]
      }
    ]
  }
}
```

### DataDog Dashboard

```yaml
# datadog_dashboard.yaml
dashboard_title: 'Sei Governance Monitoring'

widgets:
  - title: 'Governance Health Score'
    type: 'query_value'
    requests:
      - q: 'avg:sei.governance.health_score'

  - title: 'Proposal Timeline'
    type: 'timeseries'
    requests:
      - q: 'sum:sei.governance.proposals.submitted{*} by {proposal_type}'

  - title: 'Vote Distribution'
    type: 'toplist'
    requests:
      - q: "top(sei.governance.votes{*} by {vote_option}, 10, 'sum', 'desc')"

  - title: 'Critical Alerts'
    type: 'alert_list'
    alert_query: 'tag:service:governance'
```

## Operational Runbooks

### High-Priority Incident Response

<div className="overflow-auto">
  <table className="min-w-full divide-y divide-neutral-200 dark:divide-neutral-800">
    <thead>
      <tr>
        <th className="px-4 py-3 text-left text-sm font-medium text-neutral-900 dark:text-neutral-100">Alert</th>
        <th className="px-4 py-3 text-left text-sm font-medium text-neutral-900 dark:text-neutral-100">Severity</th>
        <th className="px-4 py-3 text-left text-sm font-medium text-neutral-900 dark:text-neutral-100">Response Time</th>
        <th className="px-4 py-3 text-left text-sm font-medium text-neutral-900 dark:text-neutral-100">Action</th>
      </tr>
    </thead>
    <tbody className="divide-y divide-neutral-200 dark:divide-neutral-800">
      <tr>
        <td className="px-4 py-3 text-sm text-neutral-900 dark:text-neutral-100">Governance System Down</td>
        <td className="px-4 py-3 text-sm">
          <span className="px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded-full text-xs">Critical</span>
        </td>
        <td className="px-4 py-3 text-sm text-neutral-600 dark:text-neutral-400">Immediate</td>
        <td className="px-4 py-3 text-sm text-neutral-600 dark:text-neutral-400">Check node status, restart services, escalate to core team</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm text-neutral-900 dark:text-neutral-100">High NoWithVeto Rate</td>
        <td className="px-4 py-3 text-sm">
          <span className="px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded-full text-xs">Critical</span>
        </td>
        <td className="px-4 py-3 text-sm text-neutral-600 dark:text-neutral-400">15 minutes</td>
        <td className="px-4 py-3 text-sm text-neutral-600 dark:text-neutral-400">Investigate proposal content, check for coordinated attack, notify community</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm text-neutral-900 dark:text-neutral-100">Expedited Proposal</td>
        <td className="px-4 py-3 text-sm">
          <span className="px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 rounded-full text-xs">Warning</span>
        </td>
        <td className="px-4 py-3 text-sm text-neutral-600 dark:text-neutral-400">5 minutes</td>
        <td className="px-4 py-3 text-sm text-neutral-600 dark:text-neutral-400">Review proposal urgency, validate security implications, alert validators</td>
      </tr>
      <tr>
        <td className="px-4 py-3 text-sm text-neutral-900 dark:text-neutral-100">Low Voter Turnout</td>
        <td className="px-4 py-3 text-sm">
          <span className="px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 rounded-full text-xs">Warning</span>
        </td>
        <td className="px-4 py-3 text-sm text-neutral-600 dark:text-neutral-400">1 hour</td>
        <td className="px-4 py-3 text-sm text-neutral-600 dark:text-neutral-400">Increase community outreach, notify major validators, extend voting if possible</td>
      </tr>
    </tbody>
  </table>
</div>

### Diagnostic Commands

```bash
# Quick health check
#!/bin/bash
echo "=== Governance Health Check ==="

# Check active proposals
echo "Active Proposals:"
seid query gov proposals --status voting_period --output json | jq '.proposals | length'

# Check governance parameters
echo "Governance Parameters:"
seid query gov params voting --output json
seid query gov params tallying --output json
seid query gov params deposit --output json

# Check recent vote activity
echo "Recent Vote Activity:"
seid query gov votes 1 --output json | jq '.votes | length'

# Check validator participation
echo "Validator Participation:"
curl -s "http://localhost:26657/validators" | jq '.result.validators | length'

# Check EVM governance precompile
echo "EVM Governance Status:"
curl -X POST http://localhost:8545 \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"eth_call","params":[{"to":"0x0000000000000000000000000000000000001006","data":"0x"},"latest"],"id":1}'
```

## Performance Baselines

<Callout type="info">**Performance Targets**: Establish baseline metrics for normal governance operations to detect anomalies.</Callout>

### Normal Operation Ranges

```yaml
# performance_baselines.yml
governance_baselines:
  query_latency:
    p50: '< 100ms'
    p95: '< 500ms'
    p99: '< 1000ms'

  proposal_metrics:
    submissions_per_week: '1-5'
    average_voting_period: '120-432000 seconds' # 2min - 5 days
    voter_turnout: '> 33.4%'
    success_rate: '60-80%'

  system_health:
    api_availability: '> 99.9%'
    event_stream_lag: '< 10 seconds'
    consensus_participation: '> 66.7%'
```

### Load Testing

```javascript
// governance_load_test.js
import { check } from 'k6';
import http from 'k6/http';

export let options = {
  stages: [
    { duration: '2m', target: 10 },
    { duration: '5m', target: 50 },
    { duration: '2m', target: 0 }
  ]
};

export default function () {
  // Test governance API endpoints
  let responses = http.batch([
    ['GET', 'https://rest-rpc.sei-apis.com/cosmos/gov/v1beta1/proposals'],
    ['GET', 'https://rest-rpc.sei-apis.com/cosmos/gov/v1beta1/proposals/1'],
    ['GET', 'https://rest-rpc.sei-apis.com/cosmos/gov/v1beta1/proposals/1/votes']
  ]);

  responses.forEach((res, i) => {
    check(res, {
      'status is 200': (r) => r.status === 200,
      'response time < 500ms': (r) => r.timings.duration < 500
    });
  });
}
```

## Security Monitoring

### Threat Detection

```typescript
class GovernanceSecurityMonitor {
  private suspiciousPatterns = {
    rapidProposalSubmissions: { threshold: 5, window: '1h' },
    coordinatedVoting: { threshold: 10, window: '5m' },
    unexpectedParameterChanges: { critical: ['staking', 'gov', 'slashing'] }
  };

  async detectThreats() {
    // Monitor for governance attacks
    const recentProposals = await this.getRecentProposals('1h');
    if (recentProposals.length > this.suspiciousPatterns.rapidProposalSubmissions.threshold) {
      this.alertSecurityTeam('Rapid proposal submission detected');
    }

    // Check for coordinated voting patterns
    const recentVotes = await this.getRecentVotes('5m');
    const voterClusters = this.detectVotingClusters(recentVotes);
    if (voterClusters.some((cluster) => cluster.size > 10)) {
      this.alertSecurityTeam('Potential coordinated voting detected');
    }

    // Monitor critical parameter changes
    const activeProposals = await this.getActiveProposals();
    const criticalProposals = activeProposals.filter((p) => this.suspiciousPatterns.unexpectedParameterChanges.critical.some((module) => p.content.changes?.some((change) => change.subspace === module)));

    if (criticalProposals.length > 0) {
      this.alertSecurityTeam('Critical parameter change proposal detected');
    }
  }
}
```
